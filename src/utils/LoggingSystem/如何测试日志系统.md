# 如何测试 LoggingSystem

## 方法1：使用批处理文件（推荐）
### 步骤1：编译测试程序
双击运行 `build_test.bat`，或者命令行执行：
```bash
build_test.bat
```
这会：
cd D:\VscodeForQt\PaperEngine
chcp 65001
.\run_test_logging.bat

```
cd  D:\VscodeForQt\PaperEngine
build_test.bat
bin\test_logging.exe


## 方法2：手动编译

### 步骤1：打开 Visual Studio 开发者命令提示符
或者运行：
```bash
call "D:\Program Files\Microsoft Visual Studio\2022\Professional\Common7\Tools\VsDevCmd.bat" -arch=x64
```

### 步骤2：生成 Makefile
```bash
"D:\Qt\6.7.3\msvc2022_64\bin\qmake.exe" test_logging.pro
```

### 步骤3：编译
```bash
nmake
```

### 步骤4：运行
```bash
bin\test_logging.exe
```

## 方法3：在 VS Code 中使用任务

1. 按 `Ctrl+Shift+P`
2. 输入 "Tasks: Run Task"
3. 选择 "build-test"（如果已配置）

## 预期输出

运行测试后，你会看到：

1. **控制台输出**：
   - 彩色日志输出（如果终端支持 ANSI 颜色）
   - 各种级别的日志消息
   - 测试进度信息

2. **文件输出**：
   - 生成 `test_log.txt` 文件
   - 包含所有日志记录

## 测试内容

测试程序会测试以下功能：

- ✅ 基本日志功能（所有级别）
- ✅ 条件日志宏
- ✅ 控制台颜色输出
- ✅ 日志级别过滤
- ✅ 文件日志输出
- ✅ 日志消息格式化
- ✅ 性能日志
- ✅ 多线程日志安全性

## 故障排除

### 问题1：找不到 qmake
- 确保 Qt 已正确安装
- 检查 `build_test.bat` 中的 Qt 路径是否正确

### 问题2：编译错误
- 检查所有源文件是否存在
- 确保 Qt 版本匹配（当前配置为 Qt 6.7.3）
- 检查 C++17 标准是否支持

### 问题3：运行时错误
- 确保已初始化日志系统（`Logger::initialize()`）
- 检查文件写入权限（test_log.txt）

### 问题4：没有颜色输出
- Windows 终端可能不支持 ANSI 颜色
- 可以尝试使用 Windows Terminal 或 Git Bash

## 查看测试结果

测试完成后：
1. 查看控制台输出
2. 打开 `test_log.txt` 查看文件日志
3. 检查是否有错误信息

